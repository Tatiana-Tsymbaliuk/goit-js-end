{"mappings":"AACA,MAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,2BAC7BC,KAAMF,SAASG,cAAc,OAC7BC,cAAeJ,SAASC,cAAc,wBAChCI,QAASL,SAASC,cAAc,aAChCK,OAAQN,SAASC,cAAc,WAC/BM,eAAgBP,SAASC,cAAc,qBAC7CO,eAAgBR,SAASC,cAAc,sBAIzCH,EAAKS,eAAeE,MAAMC,UAAY,OAEnBC,MAAM,2DACxBC,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACL,MAAMC,EAAQD,EAAKE,KAAI,EAACC,UAAEA,KACnB,0EAA0EA,eAIjF,OAFApB,EAAKS,eAAeY,mBAAmB,YAAaH,EAAMI,KAAK,KACxDC,QAAQC,IAAIN,GACZA,CAAK,IA4CbO,eAAeC,IAUP,IAAKT,QAPPU,aAlCYF,WACV,MAAMG,QAAYf,MACF,+DAA+DgB,aAAaC,QA3B3E,wBA+BXC,QAAcH,EAAIZ,OAExB,OADAO,QAAQC,IAAIO,GACLA,CAAK,EA0BEC,GAAYlB,MAAKG,GACAA,EAAKE,KAAIc,GACTA,MAKlBN,SACG3B,EAAKQ,OAAO0B,YAAcL,aAAaC,QAnEtC,qBA2CjB9B,EAAKI,KAAO,uGAGsBa,KAAKkB,+FAGXlB,KAAKmB,mDACJnB,KAAKoB,8CAmBlBrC,EAAKM,cAAce,mBAAmB,YAAarB,EAAKI,K,CAOhFkC,YAAW,IAAMZ,KAAe","sources":["src/index.js"],"sourcesContent":["//import { bookCardTemplates } from './templates';\nconst refs = {\n  list: document.querySelector('.bestSellers__container'),\n  card: document.createElement('div'),\n  categoryField: document.querySelector('.shop-card__category'),\n        loadBtn: document.querySelector('load-more'),\n        output: document.querySelector(\".output\"),\n        categoriesList: document.querySelector('.categories__list'), \n  categoriesLink: document.querySelector('.categories__link')\n};\nconst LOCALSTORAGE_KEY = \"selected-category\";\n\nrefs.categoriesList.style.listStyle = 'none';\n\nconst fetchArray = fetch('https://books-backend.p.goit.global/books/category-list')\n.then(response => response.json())\n.then(data => {\n\tconst array = data.map(({ list_name }) => {\n\treturn `<li class = \"categories__item\"><a href = \"\" class = \"categories__link\">${list_name}</a></li>`\n\t})\n\trefs.categoriesList.insertAdjacentHTML('beforeend', array.join(''));\n        console.log(array)\n\treturn array;\n});\n\nconst handleClick = event => {\n        console.log(event);\n        localStorage.setItem(LOCALSTORAGE_KEY, event.list_name.value);  \n            \n};\n//console.log(LOCALSTORAGE_KEY);\n //localStorage.setItem(LOCALSTORAGE_KEY, \"Trade Fiction Paperback\");\n//localStorage.setItem(\"selected-category\", \"Series Books\");\n\n//------------------Запрос на API\nconst fetchBook = async () => {       \n        const res = await fetch(\n                        `https://books-backend.p.goit.global/books/category?category=${localStorage.getItem(\n                                LOCALSTORAGE_KEY\n                        )}`\n                );\n        const books = await res.json();\n        console.log(books);\n        return books;       \n};\n\n//fetchBook();\n// function updateOutput() {\n//         refs.output.textContent = localStorage.getItem(LOCALSTORAGE_KEY);       \n// }\n\nfunction rendeSelectedCategory() {\n              \nreturn (refs.card = `  \n  <div class='shop-card'>\n  <div class='image-block'>\n    <img class='image-block__image' src=${data.book_image} />\n  </div>\n  <div class='shop-card__meta'>\n    <div class='shop-card__title'>${data.title}</div>\n    <div class='shop-card__author'>${data.author}</div>\n  </div\n  </div>\n  </div>\n`);\n}\nasync function renderFetch() {\n         //refs.list.innerHTML = '';\n//if (localStorage.getItem('selected-category')) {\n      promise = await fetchBook().then(data => {\n                        const result = data.map(value => {\n                                return value;\n                        });\n                        return result;\n                });\n                //refs.categoryField.innerHTML = refs.category;\n        for (data of promise) {\n                        refs.output.textContent = localStorage.getItem(LOCALSTORAGE_KEY);  \n                        rendeSelectedCategory();\n                        refs.categoryField.insertAdjacentHTML('beforeend', refs.card);\n                }\n      \n        \n  //} \n\n}\nsetTimeout(() => renderFetch(), 1000);\n\n// a.addEventListener('click', handleClick);"],"names":["$1f0dc3b9307be026$var$refs","list","document","querySelector","card","createElement","categoryField","loadBtn","output","categoriesList","categoriesLink","style","listStyle","fetch","then","response","json","data","array","map","list_name","insertAdjacentHTML","join","console","log","async","$1f0dc3b9307be026$var$renderFetch","promise","res","localStorage","getItem","books","$1f0dc3b9307be026$var$fetchBook","value","textContent","book_image","title","author","setTimeout"],"version":3,"file":"index.c2523f69.js.map"}